<!-- News Ticker -->
<div class="news-ticker">
    <span class="ticker-label live" id="tickerLabel"><i class="fas fa-circle me-1"></i>Live</span>
    <div class="ticker-wrapper">
        <div class="ticker-content" id="tickerContent">
            <div class="ticker-item">
                <strong>NEPSE:</strong>
                <span id="tickerIndex">Loading...</span>
            </div>
            {% for stock in all_stocks %}
            <div class="ticker-item">
                <strong>{{ stock.symbol }}:</strong>
                <span class="{% if stock.change_pct >= 0 %}text-success{% else %}text-danger{% endif %}">{% if
                    stock.change_pct >= 0 %}+{% endif %}{{ stock.change_pct|floatformat:2 }}%</span>
            </div>
            {% endfor %}
            <!-- Duplicate for seamless loop -->
            <div class="ticker-item">
                <strong>NEPSE:</strong>
                <span id="tickerIndex2">Loading...</span>
            </div>
            {% for stock in all_stocks %}
            <div class="ticker-item">
                <strong>{{ stock.symbol }}:</strong>
                <span class="{% if stock.change_pct >= 0 %}text-success{% else %}text-danger{% endif %}">{% if
                    stock.change_pct >= 0 %}+{% endif %}{{ stock.change_pct|floatformat:2 }}%</span>
            </div>
            {% endfor %}
        </div>
    </div>
</div>